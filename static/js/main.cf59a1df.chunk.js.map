{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/api.js","components/App/App.js","index.js"],"names":["Searchbar","onSubmit","useState","inputValue","setInputValue","className","e","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGalleryItem","tags","webformatURL","imgId","onClickItem","src","alt","onClick","ImageGallery","items","onItemClick","map","item","id","key","Button","onClickBtn","App","color","height","width","timeout","React","Component","Modal","onCloseItem","largeImageURL","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","currentTarget","searchQuery","page","axios","get","then","res","data","setSearchQuery","loading","setLoading","galleryItems","setGalleryItems","setPage","showModal","setShowModal","setLargeImageUrl","totalHits","setTotalHits","fetchItems","prevPage","query","apiSearch","hits","catch","console","log","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","length","itemsId","itemId","find","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.cf59a1df.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  const searchChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(inputValue);\r\n    setInputValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={searchSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={inputValue}\r\n          onChange={searchChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ tags, webformatURL, imgId, onClickItem }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onClickItem(imgId)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  imgId: PropTypes.number.isRequired,\r\n  onClickItem: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ items, onItemClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {items.map((item) => {\r\n        const { id, tags, webformatURL } = item;\r\n\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imgId={id}\r\n            tags={tags}\r\n            webformatURL={webformatURL}\r\n            onClickItem={onItemClick}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      id: PropTypes.number.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onItemClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Button({ onClickBtn }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClickBtn}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClickBtn: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className=\"spinner\">\r\n        <Loader\r\n          type=\"Oval\"\r\n          color=\"#00BFFF\"\r\n          height={40}\r\n          width={40}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Modal({ onCloseItem, largeImageURL }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return function cleanup() {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onCloseItem();\r\n    }\r\n  };\r\n\r\n  const backdropClose = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onCloseItem();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={backdropClose}>\r\n      <div className=\"Modal\">\r\n        <img src={largeImageURL} alt=\"\" />;\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseItem: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst key = \"17751267-16ded02a741af1cdfc94a2144\";\r\nconst url = \"https://pixabay.com/api/\";\r\n\r\nconst apiSearch = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `${url}?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport default { apiSearch };\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport apiSearch from \"../../services/api\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [galleryItems, setGalleryItems] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImageURL, setLargeImageUrl] = useState(\"\");\r\n  const [totalHits, setTotalHits] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === \"\") {\r\n      return;\r\n    }\r\n    fetchItems(searchQuery);\r\n    setPage((prevPage) => prevPage + 1);\r\n    // eslint-disable-next-line\r\n  }, [searchQuery]);\r\n\r\n  const onScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setPage((prevPage) => prevPage + 1);\r\n    fetchItems(searchQuery, page);\r\n  };\r\n\r\n  const fetchItems = (query, page) => {\r\n    setLoading(true);\r\n    apiSearch\r\n      .apiSearch(query, page)\r\n      .then((data) => {\r\n        const { hits, totalHits } = data;\r\n\r\n        setGalleryItems([...galleryItems, ...hits]);\r\n        setTotalHits(totalHits);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n        onScroll();\r\n      });\r\n  };\r\n\r\n  const handleSearchApi = (query) => {\r\n    if (query !== searchQuery) {\r\n      setSearchQuery(query);\r\n      setGalleryItems([]);\r\n    }\r\n    return;\r\n  };\r\n\r\n  const openModal = (itemsId) => {\r\n    const itemId = galleryItems.find(({ id }) => id === itemsId);\r\n\r\n    setLargeImageUrl(itemId.largeImageURL);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setLargeImageUrl(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleSearchApi} />\r\n      {showModal && (\r\n        <Modal onCloseItem={closeModal} largeImageURL={largeImageURL} />\r\n      )}\r\n      {galleryItems.length > 0 && (\r\n        <ImageGallery items={galleryItems} onItemClick={openModal} />\r\n      )}\r\n      {loading && <Loader />}\r\n      {galleryItems.length > 0 &&\r\n        !loading &&\r\n        galleryItems.length !== totalHits && <Button onClickBtn={nextPage} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from './components/App/App'\r\n\r\nReactDOM.render(<App className=\"App\" />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}